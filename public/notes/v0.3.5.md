# DROPER v0.3.5 Alpha â€” Note de version
**Date :** 27 FÃ©vrier 2026

## ğŸ› Correction de Bugs Critiques

*   **Crash `TypeError: Cannot read properties of undefined (reading 'length')` :**
    Ce crash rÃ©pÃ©tÃ© toutes les 100ms (dans le timer du HUD) venait de deux sources simultanÃ©es :
    1. `GamePage.js > updateHUD()` â€” l'accÃ¨s Ã  `p.hero.state.equippedChips` explosait si le hÃ©ros n'avait pas encore de sauvegarde de jeu ou si les anciennes donnÃ©es n'avaient pas le champ `equippedChips`.
    2. `HeroManager.js > getHeroState()` â€” manque de migration des anciennes donnÃ©es du `localStorage` sans les nouveaux champs (`chips`, `powers`, `equippedChips`).

*   **Correction** : `updateHUD()` vÃ©rifie maintenant `hero.state && Array.isArray(equippedChips)` avant d'accÃ©der Ã  `.length`. De plus, `getHeroState()` fusionne toujours les valeurs avec des valeurs par dÃ©faut garantissant que ces tableaux existent.

*   **Robustesse** : mÃªme si un joueur de l'ancienne version charge son profil avec un `localStorage` incompatible, le jeu ne crashera plus.

## ğŸ”„ Migration Automatique
Les donnÃ©es de sauvegarde hero sans `equippedChips` ou `powers` seront automatiquement corrigÃ©es au prochain chargement.
